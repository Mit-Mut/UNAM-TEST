<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="view_investment_tree_form" model="ir.ui.view">
            <field name="name">Investment Funds Tree View</field>
            <field name="model">investment.funds</field>
            <field name="arch" type="xml">
                <tree>
                	<field name="contract_id"/>
                	<field name="fund_id"/>
                	<field name="fund_key"/>
                	<field name="fund_request_date"/>
                	<field name="dependency_id"/>
                	<field name="subdependency_id"/>
                	<field name="dependency_holder"/>
                	<field name="responsible_user_id"/>
                	<field name="type_of_resource"/>
                	<field name="journal_id"/>
                	<field name="bank_account_id"/>
                	<field name="request_office"/>
                	<field name="state"/>
				</tree>
			</field>
		</record>
        <record id="view_investment_funds_form" model="ir.ui.view">
            <field name="name">Investment Funds Form View</field>
            <field name="model">investment.funds</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button name="approve_investment" type="object" string="Approve" class="oe_highlight"
                             attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                        <field name="state" widget="statusbar"/>
                    </header>
                    <sheet>
                        <group>
                            <group>
								<field name="fund_id" string="Fund Name" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
								<field name="fund_key" string="Fund Code" readonly="1"/>                            	
                                <field name="fund_request_date" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"/>
                                <field name="dependency_id" context="{'show_for_agreement':1}" attrs="{'readonly': [('state', '!=', 'draft')]}" readonly="1"/>
                                <field name="subdependency_id" context="{'show_for_agreement':1}" domain="[('dependency_id','=',dependency_id)]" attrs="{'readonly': [('state', '!=', 'draft')]}" readonly="1"/>
                                <field name="dependency_holder" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1" />
                                <field name="responsible_user_id" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"/>
                                <field name="origin_resource_id" attrs="{'readonly': [('state', '!=', 'draft')]}"
                                       domain="[('is_it_enabled_for_agreement', '=',  True)]" required="1"/>
                               
                                <field name="journal_id" required="1"/>
                                <field name="bank_account_id" readonly="1"/>
                                <field name="request_office" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"/>
                            </group>
                            <group>
								<field name="contract_id" required="1" attrs="{'readonly': [('state', '!=', 'draft')]}"/>                                                                
                                <field name="permanent_instructions" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1" />
                                <field name="fund_observation" attrs="{'readonly': [('state', '!=', 'draft')]}"  required="1"/>
                                
                            </group>
                        </group>
                        <group>
                            
                        </group>
                        <notebook>
                        	<page string="Title">
								<field name="purchase_sale_ids" eval="[(5,0,0),
                          						(0,0,{'view_mode':'tree','view_id': ref('jt_investment.purchase_sale_security_tree')}),
                          						(0,0,{'view_mode':'form', 'view_id': ref('jt_investment.purchase_sale_security_form')})]"/>                        		
                        	</page>
                        	<page string="Money Market">
                        		<group string="CETES">
									<field nolabel="1" name="cetes_ids" eval="[(5,0,0),
	                          						(0,0,{'view_mode':'tree','view_id': ref('jt_investment.investment_cetes_tree')}),
	                          						(0,0,{'view_mode':'form', 'view_id': ref('jt_investment.investment_cetes_form')})]"/>
									</group>
								<group string="Udibonos">	
									<field nolabel="1" name="udibonos_ids" eval="[(5,0,0),
	                          						(0,0,{'view_mode':'tree','view_id': ref('jt_investment.investment_udibonos_tree')}),
	                          						(0,0,{'view_mode':'form', 'view_id': ref('jt_investment.investment_udibonos_form')})]"/>                        		
								</group>
								<group string="Bonds">
									<field nolabel="1" name="bonds_ids" eval="[(5,0,0),
	                          						(0,0,{'view_mode':'tree','view_id': ref('jt_investment.investment_bonds_tree')}),
	                          						(0,0,{'view_mode':'form', 'view_id': ref('jt_investment.investment_bonds_form')})]"/>                        		
								</group>
								<group string="I WILL PAY">
									<field nolabel="1" name="will_pay_ids" eval="[(5,0,0),
	                          						(0,0,{'view_mode':'tree','view_id': ref('jt_investment.investment_will_pay_tree')}),
	                          						(0,0,{'view_mode':'form', 'view_id': ref('jt_investment.investment_will_pay_form')})]"/>
	                          	</group>                        		
                        	</page>
                        	<page string="Investment">
								<field name="productive_ids" eval="[(5,0,0),
                          						(0,0,{'view_mode':'tree','view_id': ref('jt_investment.investment_investment_tree')}),
                          						(0,0,{'view_mode':'form', 'view_id': ref('jt_investment.investment_investment_form')})]"/>                        		
                        	</page>
                        	
                        	
                            <page string="Operation" name="operation">
                                <group>
                                    <group>
                                        <field name="request_date" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"/>
                                        <field name="trade_number" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"/>
                                        <field name="opening_balance" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"/>
                                    </group>
                                    <group>
                                        <field name="observations" attrs="{'readonly': [('state', '!=', 'draft')]}" required="1"/>
                                        <field name="user_id" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                    </group>
                                </group>
                            </page>
                             <page string="Supporting Documentaion" name="supporting_documentation">
                                <group>
                                    <group>
                                        <field name="cbc_format" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                    </group>
                                    <group>
                                        <field name="cbc_shipping_office"
                                               attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                    </group>
                                </group>
                            </page>                            
                             <page string="Accounts" name="accounts">
                                <group>
                                    <group>
                                    	
                                        <field name="liability_account_id"
                                               attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                        <field name="investment_account_id"
                                               attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                               
                                    </group>
                                    <group>
                                        <field name="interest_account_id"
                                               attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                        <field name="availability_account_id"
                                               attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                    </group>
                                </group>
                            </page>
                            
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_investment_funds_product" model="ir.actions.act_window">
            <field name="name">Funds</field>
            <field name="res_model">investment.funds</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'show_for_agreement':True}</field>
        </record>

		<record id="action_investment_funds_product_tree_link" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="view_investment_tree_form"/>
            <field name="act_window_id" ref="action_investment_funds_product"/>
        </record>
        <record id="action_investment_funds_product_form_link" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_investment_funds_form"/>
            <field name="act_window_id" ref="action_investment_funds_product"/>
        </record>
               
        <menuitem id="menu_investment_funds_product" name="Funds"
                  parent="submenu_menu_investment_money"
                 action="action_investment_funds_product" sequence="0"/>
    	
	</data>
</odoo>